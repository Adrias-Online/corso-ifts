<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Gestione utenti</title>
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
    integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
  <!-- Custom styles for this template -->
  <link rel="stylesheet" href="https://getbootstrap.com/docs/4.0/examples/dashboard/dashboard.css"
    crossorigin="anonymous">
  <script src="client-http.js"></script>
  <script src="utenti.js"></script>
</head>

<body>
  <nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0">
    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">Corso IFTS</a>
  </nav>

  <div class="container-fluid">
    <div class="row">
      <nav class="col-md-2 d-none d-md-block bg-light sidebar">
        <div class="sidebar-sticky">
          <ul class="nav flex-column">
            <li class="nav-item">
              <a class="nav-link" href="index.html">
                <span data-feather="file"></span>
                Gestione utenti
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="nuovo-user.html">
                <span data-feather="file"></span>
                Nuovo utente
              </a>
            </li>
          </ul>
        </div>
      </nav>

      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
        <div class="container mt-2">
          <div class="row">
            <div class="col h2">Modifica user</div>
          </div>
          <div class="row">
            <div class="col">
              <div id="risultato"></div>
            </div>
          </div>
          <div class="row">
            <div class="col-md">
              <form id="modificaUser" action="#" method="POST">
                <div class="form-group row">
                  <label for="name" class="col-sm-2 col-form-label">Name</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" name="name" id="name" placeholder="Inserisci il name" />
                  </div>
                </div>
                <div class="form-group row">
                  <label for="email" class="col-sm-2 col-form-label">Email</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" name="email" id="email" placeholder="Inserisci l'email" />
                  </div>
                </div>
                <div class="form-group row">
                  <label for="bio" class="col-sm-2 col-form-label">Bio</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" name="bio" id="bio" placeholder="Inserisci una bio" />
                  </div>
                </div>
                <div class="form-group row">
                  <label for="website" class="col-sm-2 col-form-label">Sito</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" name="website" id="website" placeholder="Inserisci il personal site" />
                  </div>
                </div>
                <input type="hidden" name="id" id="id" />
                <button id="aggiungiContattoBtn" type="submit" class="btn btn-primary">Salva</button>
              </form>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>
  <script>
    var form = document.getElementById("modificaUser");
    var risultato = document.getElementById("risultato");

    document.addEventListener('DOMContentLoaded', (event) => {
      const urlSearchParams = new URLSearchParams(window.location.search);
      const params = Object.fromEntries(urlSearchParams.entries());
      caricaUser(params.id, risultato);
    });

    form.onsubmit = (event) => {
      event.preventDefault();
      salvaUser(form, risultato);
    };
  </script>
</body>

</html>