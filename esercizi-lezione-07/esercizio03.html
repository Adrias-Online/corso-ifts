<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
        integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <title>Esercizio 3</title>
</head>

<body>
    <div class="container">
        <div id="risultato"></div>
    </div>
    <div class="container">
        <div class="form-group row">
            <label for="nome" class="col-sm-2 col-form-label">Nome</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="nome" placeholder="Inserisci il nome">
            </div>
          </div>
          <div class="form-group row">
              <label for="cognome" class="col-sm-2 col-form-label">Cognome</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="cognome" placeholder="Inserisci il cognome">
              </div>
          </div>
          <div class="form-group row">
              <label for="telefono" class="col-sm-2 col-form-label">Telefono</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="telefono" placeholder="Inserisci il telefono">
              </div>
          </div>
          <div class="form-group row">
            <label for="email" class="col-sm-2 col-form-label">Email</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="email" placeholder="Inserisci un indirizzo email">
            </div>
            </div>
          <button type="submit" class="btn btn-primary" onclick="validazioneCampi()">Invia dati</button>
    </div>
    <script>
        function validazioneCampi(){
            var risultato = document.getElementById("risultato");
            var messaggio = validaCampo("Nome", "nome");
            messaggio += validaCampo("Cognome", "cognome");
            var tel = document.getElementById("telefono").value;
            var em = document.getElementById("email").value;

            if ((em === "" || em === undefined) && (tel === "" || tel === undefined)){
                messaggio += "Inserire il telefono o l'indirizzo e-mail<br />";
            }
            if (em !== "" && em.indexOf("@") === -1){
                messaggio += "Indirizzo email non valido. <br />";
            }

            if (messaggio){
                risultato.className = "alert alert-danger";
                risultato.innerHTML = messaggio;
            }else{
                risultato.className = "alert alert-success";
                risultato.innerHTML = "Invio dati avvenuto con successo.";
            }
        }

        function validaCampo(nomeCampo, idCampo){
            var value = document.getElementById(idCampo).value;
            var messaggio = "";
            if (value === "" || value === undefined){
                messaggio = "Campo "+ nomeCampo +" non inserito.<br />";
            }
            return messaggio;
        }
    </script>
</body>

</html>