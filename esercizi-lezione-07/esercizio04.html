<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
        integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <style>
        ul {list-style-type: none;}
    </style>
    <title>Esercizio 4</title>
</head>

<body>
    <div class="container">
        <div id="risultato"></div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md">
                <ul id="galleria">
                    <li>
                        <img class="d-inline" src="https://via.placeholder.com/1000x500.png" alt="immagine 1" />
                    </li>
                    <li>
                        <img class="d-none" src="https://via.placeholder.com/1000x250.png" alt="immagine 2" />
                    </li>
                    <li>
                        <img class="d-none" src="https://via.placeholder.com/1000x100.png" alt="immagine 3" />
                    </li>
                </ul>
            </div>
        </div>
        <div class="row d-flex justify-content-center">
            <nav aria-label="Page navigation example">
                <ul class="pagination">
                  <li class="page-item"><a id="prev" class="page-link" href="#">Previous</a></li>
                  <li class="page-item"><a id="next" class="page-link" href="#">Next</a></li>
                </ul>
              </nav>
        </div>
    </div>
    <script>
        //scorro le immagini verso dietro
        var prev = document.getElementById("prev");
        prev.onclick = function(){
            /*
            function(posizioneCorrente, numeroImmagini){
                if (posizioneCorrente > 0){
                    return posizioneCorrente - 1;
                }else{
                    return numeroImmagini - 1;
                }
            }
            */
            switchImage((posizioneCorrente, numeroImmagini) => posizioneCorrente > 0 ? posizioneCorrente - 1 : numeroImmagini - 1);
        };
        //scorro le immagini verso avanti
        var next = document.getElementById("next");
        next.onclick = function(){
            /*
            function(posizioneCorrente, numeroImmagini){
                if (posizioneCorrente >= 0 && posizioneCorrente < numeroImmagini - 1){
                    return posizioneCorrente + 1;
                }else{
                    return 0;
                }
            }
            */
            switchImage((posizioneCorrente, numeroImmagini) => posizioneCorrente >= 0 && posizioneCorrente < numeroImmagini - 1 ? posizioneCorrente + 1 : 0);
        };
        
        function switchImage(funzioneCalcolaPosizione){
            var galleria = document.getElementById("galleria");
            var imgs = galleria.getElementsByTagName('img');
            var p = 0;
            var c = 0;
            for (let i = 0; i < imgs.length; i++) {
                const element = imgs[i];
                if (element.className === "d-inline"){
                    //funzione
                    p = funzioneCalcolaPosizione(i, imgs.length); //invoco la funzione in input con i parametri relativi a questa esecuzione.
                    c = i;
                    break;
                }
            }
            imgs[c].className = "d-none";
            imgs[p].className = "d-inline";
        }
    </script>
</body>

</html>